<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="shortcut icon" href="http://nadelectronics.com/img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <meta name="description" content="IR Remote Control Interface">
    <meta name="author" content="Michael Vartan">
    <meta name="editor" content="Håkon Prestegård">
    <title>Remote - NAD Receiver</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet"/>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet"/>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

<!-- NAVBAR -->
<nav role="navigation" class="navbar navbar-default navbar-fixed-top navbar-nav">
    <div class="nav navbar-nav">
        <!-- Header name -->
        <div class="navbar-header">
            <a class="navbar-brand">Haagon rejerer!</a>
        </div>

        <!-- Navbar tabs -->
        <div  class="tabs" style="display: block;">
            <div class="nav nav-pills nav-justified">
                <li class="active">
                    <a href="/lights">Lights</a>
                </li>
                <li>
                    <a href="/music">Music</a>
                </li>
            </div>
        </div>
    </div>
</nav>

<br/>

<!--  BEGIN NAD MUSIC CONTROLLER -->
<div class="buttongroup col-xs-12 col-md-4">

    <div class="col-xs-6 control-button-container text-center">
        <a class="btn col-xs-12 btn-lg btn-primary col-xs-12" href="/LED/POWER_ON">
    <span style="display:inline-block;color:blue;height:50px;overflow:hidden">
        <i class="fa fa-3x fa-power-off pull-left"></i> ON
    </span>
        </a>
    </div>


    <div class="col-xs-6 control-button-container text-center">
        <a class="btn col-xs-12 btn-lg btn-danger col-xs-12" href="/LED/POWER_OFF">
      <span style="display:inline-block;color:;height:50px;overflow:hidden">
        <i class="fa fa-3x fa-power-off pull-left"></i> OFF
      </span>
        </a>
    </div>
</div>



<div class="buttongroup col-xs-12 col-md-4">

    <div class="col-xs-6 control-button-container text-center">
        <a class="btn btn-lg btn-primary col-xs-12" href="/LED/MUSIC_MODE">
            <i class="fa fa-music fa-fw"></i>&nbsp
            Music Mode
        </a>
    </div>


    <div class="col-xs-6 control-button-container text-center">
        <a class="btn btn-lg btn-primary col-xs-12" href="/LED/RANIBOW_MODE">
            <i class="fa fa-lightbulb-o fa-fw" style="color:red"></i>&nbsp
            RAINBOW MODE
        </a>
    </div>

</div>


<div class="buttongroup col-xs-12 col-md-4">

    <div class="col-xs-3 text-center">
        <h1>Color hue</h1>
    </div>
    <div class="col-xs-9">
        <img src="images/color_hue.png" width="100%">
    </div>


<div class="buttongroup col-xs-12 col-md-4">
    <div class="col-xs-3 text-center">
        <h1>Color hue</h1>
    </div>
    <div class="col-xs-9" id="color_hue_slide_container">
        <input type="range" min="0" max="255" value="color_hue_value" class="slider" id="color_hue_slider">
        <p>Value: <span id="color_hue_value"></span></p>
    </div>
</div>


<div class="buttongroup col-xs-12 col-md-4">
    <div class="col-xs-3 text-center">
        <h1>Color sat</h1>
    </div>
    <div class="col-xs-9" id="color_sat_slide_container">
        <input type="range" min="0" max="255" value="color_sat_value" class="slider" id="color_sat_slider">
        <p>Value: <span id="color_sat_value"></span></p>
    </div>
</div>

<div class="buttongroup col-xs-12 col-md-4">
    <div class="col-xs-3 text-center">
        <h1>Color val</h1>
    </div>
    <div class="col-xs-9" id="color_val_slide_container">
        <input type="range" min="0" max="255" value="color_val_value" class="slider" id="color_val_slider">
        <p>Value: <span id="color_val_value"></span></p>
    </div>
</div>


<button type="button" id="color_settings_button" onclick="updateColorsFunction()">Update colors!</button></div>






<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="/js/script.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>


<div id="header_test">Hello World!</div>

<script src="/jquery/dist/jquery.js"></script>
<script src="/socket.io/socket.io.js"></script>

</body>
</html>


<script>
    var slider_hue = document.getElementById("color_hue_slider");
    var output_hue = document.getElementById("color_hue_value");
    output_hue.innerHTML = slider_hue.value;

    slider_hue.oninput = function() {
        output_hue.innerHTML = this.value;
        console.log("SLIDER VALUE: " + this.value);
    }

    var slider_sat = document.getElementById("color_sat_slider");
    var output_sat = document.getElementById("color_sat_value");
    output_sat.innerHTML = slider_sat.value;

    slider_sat.oninput = function() {
        output_sat.innerHTML = this.value;
        console.log("SLIDER VALUE: " + this.value);
    }

    var slider_val = document.getElementById("color_val_slider");
    var output_val = document.getElementById("color_val_value");
    output_val.innerHTML = slider_val.value;

    slider_val.oninput = function() {
        output_val.innerHTML = this.value;
        console.log("SLIDER VALUE: " + this.value);
    }
</script>


<script>
    var socket = io.connect('http://localhost:80');

    socket.on('connect', function(data) {
        socket.emit('join', 'Hello World from client');
    });


    socket.on('init', function(data) {
        $('#header_test').append("<br/>HUE: " + data.color_hue);
        $('#header_test').append("<br/>SAT: " + data.color_sat);
        $('#header_test').append("<br/>VAL: " + data.color_val);
        $('#color_hue_value').html(data.color_hue);
        $("#color_hue_slider").val(data.color_hue).trigger('change');
        //$("#color_hue_slider").trigger('change');

        $('#color_sat_value').html(data.color_sat);
        $("#color_sat_slider").val(data.color_sat).trigger('change');


        $('#color_val_value').html(data.color_val);
        $("#color_val_slider").val(data.color_val).trigger('change');



    });

    socket.on('broad', function(data) {
        $('#future').append(data+ "<br/>");
    });

    $('form').submit(function(e){
        e.preventDefault();
        var message = $('#chat_input').val();
        socket.emit('messages', message);
    });

    function updateColorsFunction() {
        document.getElementById("color_settings_button").innerHTML = "YOU CLICKED ME!";
        var color_hue = document.getElementById("color_hue_slider").value;
        var color_sat = document.getElementById("color_sat_slider").value;
        var color_val = document.getElementById("color_val_slider").value;


        $('#header_test').append("<br/>UPDATE: " + color_hue);
        socket.emit('updateColors', {color_hue: color_hue, color_sat: color_sat, color_val: color_val});
    }
</script>


